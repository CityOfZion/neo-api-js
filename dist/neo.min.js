(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.neo=t.neo||{})})(this,function(t){"use strict";let e,n={registerProtocolClient:r};function r(t){e=t}function o(){return e}function i(t,e,n){"string"==typeof n?n={baseUrl:n}:"object"!=typeof n&&(n={}),t.serviceName=e,t.serviceBaseUrl=n.baseUrl||"",t.servicePollInterval=n.poll,t.baseUrl=function(t){if(!t)return this.serviceBaseUrl;return this.serviceBaseUrl=t,this},t.protocolClient=function(t){if(!t)return this.serviceProtocolClient||o();return this.serviceProtocolClient=t,this},t.poll=function(t){if(!t)return this.servicePollInterval;return this.servicePollInterval=t,this}}function s(t){var e,n,r,o;function i(){o=!1,clearTimeout(r)}"number"==typeof t&&(t={interval:t=Math.max(1e3,t)}),e=Object.assign({},{interval:25e3,errorInterval:3e5},t||{}),this.stop=i,this.start=function(t){var s;o&&i(),n=t,o=!0,s=e.interval,r=setTimeout(function(){n()},s)},this.isRunning=function(){return o}}function u(){this.$post=function(t,e){return function(t,e,n,r){if(!n)throw new Error("You must configure the rpc method");var o={jsonrpc:"2.0",id:1};o.method=n,o.params=r||[];var i={};return i.url=t.baseUrl(),i.data=o,i.method=e,i.transformResponse=function(t){return t.data.result},i.transformResponseError=function(t){return t.data.error},p(t,i)}(this,"POST",t,e)}}function a(){this.$send=function(t,e){return function(t,e,n){if(!e)throw new Error("You must configure the ipc method");let r={method:e,params:n||[]},o={};return o.data=r,p(t,o)}(this,t,e)}}let c=function(){return{createRcpService:function(t){let e=new u;return i(e,"node",t),e},createIpcService:function(t){let e=new a;return i(e,"node",t),e},createRestService:function(t){let e=new g;return i(e,"node",t),e}}}();let f=function(){function t(t){this.options=t,this.stopAll=function(){},this.startAll=function(){},this._interval=function(){},this._requests=[]}return t.prototype.onInterval=function(t){if("function"!=typeof t)throw new Error('onInterval(fn) - "fn" must be of type "function"');this._interval=t},t.prototype.run=function(t){this._requests.push(t)},{createPollingPolicy:function(e){return new t(e)},isPollingPolicy:function(e){return e instanceof t},getPollRunner:function(e){return e instanceof t?(e._pollRunner||(e._pollRunner=new l(e)),e._pollRunner):new l(new t(e))}}}();function l(t){let e=new s(t.options),n=!1,r=!1;function o(){n=!0,e.stop()}function i(){n&&(n=!1,e.start(u))}function u(){let o=t._requests.length;function i(){0===--o&&(t._interval(),r=!1,n||e.start(u))}r=!0,t._requests.forEach(function(t){t().then(i).catch(i)})}this.isPolling=function(){return r||e.isRunning()},this.addRequest=function(e){return t._requests.push(e),this},this.pause=o,this.play=i,t.stopAll=o,t.startAll=i,setTimeout(u,0)}function p(t,e){return function(t){let e=new Promise(function(e,r){t(e,r,n)});function n(t){e._notify(t)}return e._notify=d,e.notify=function(t){if(e._notify===d)e._notify=t;else{let n=e._notify;e._notify=function(e){return t(n(e))}}return this},e}(function(n,r,o){let i=function(){let t={};return t.stopPolling=d,t.isPolling=function(){return!1},t}();i.successFunction=n,i.errorFunction=r,i.notifyFunction=o,i.transformResponse=e.transformResponse||d,i.transformResponseError=e.transformResponseError||d;let s=t.protocolClient(),u=s.buildRequestOptions(e),a=t.poll();if(a){let t=f.getPollRunner(a).addRequest(function(){return h(s,u,i)});i.stopPolling=t.pause,i.isPolling=t.isPolling}else h(s,u,i)})}function d(){}function h(t,e,n){let r=t.invoke(e);return r.catch(function(t){n.errorFunction(t)}),r=r.then(function(t){let e=n.transformResponse(t);if(!e){let e=n.transformResponseError(t);if(e)return n.errorFunction(e,t),void(n.isPolling()&&n.stopPolling())}n.isPolling()?n.notifyFunction(e,t):n.successFunction(e,t)})}function g(){function t(t,e,n,r,o,i){if(!n||!e)throw new Error("You must configure at least the http method and url");return o=o||{},void 0!==t.baseUrl()&&(e=t.baseUrl()+e),o.url=e,o.body=r,o.method=n,o.queryParams=i,o.hasOwnProperty("transformResponse")||(o.transformResponse=function(t){return t.data}),o.hasOwnProperty("transformResponseError")||(o.transformResponseError=function(t){return t.data}),p(t,o)}this.$post=function(e,n,r,o){return t(this,e,"POST",n,r,o)},this.$get=function(e,n,r){return t(this,e,"GET",null,r,n)},this.$put=function(e,n,r,o){return t(this,e,"PUT",n,r,o)},this.$delete=function(e,n,r){return t(this,e,"DELETE",null,r,n)}}function m(t){return this.$get("address/get_value/"+t)}function y(t){return this.$get("address/get_unspent/"+t)}function v(t){return this.$get("block/get_block/"+t)}function w(t){return this.$get("block/get_block/"+t)}function b(){return this.$get("block/get_current_block")}function R(){return this.$get("block/get_current_height")}function C(t){return this.$get("tx/get_tx/"+t)}function E(t){return this.$get("address/info/"+t)}function A(t){return this.$get("address/utxo/"+t)}function B(){return this.$get("get_height")}function $(){return this.$get("block/height",null,{transformResponse:function(t){return{height:t.data&&t.data.block_height}}})}function P(t){return this.$get("address/balance/"+t)}function S(t){return this.$get("address/history/"+t)}function k(t){return this.$get("transaction/"+t)}function T(t){return this.$post("dumpprivkey",[t])}function _(t){return this.$post("getaccountstate",[t])}function x(t,e){return this.$post("getapplicationlog",[t,e?1:0])}function j(t){return this.$post("getassetstate",[t])}function U(t){return this.$post("getbalance",[t])}function q(){return this.$post("getbestblockhash",[])}function O(t,e){return this.$post("getblock",[t,e?1:0])}function N(){return this.$post("getblockcount",[])}function F(t){return this.$post("getblockhash",[t])}function L(t){return this.$post("getblocksysfee",[t])}function D(){return this.$post("getconnectioncount",[])}function I(t){return this.$post("getcontractstate",[t])}function H(){return this.$post("getnewaddress",[])}function X(){return this.$post("getrawmempool",[])}function M(t,e){return this.$post("getrawtransaction",[t,e?1:0])}function z(t,e){return this.$post("getstorage",[t,e])}function V(t,e){return this.$post("gettxout",[t,e])}function J(){return this.$post("getpeers",[])}function K(){return this.$post("getversion",[])}function Y(t,e){return this.$post("invoke",[t,e])}function G(t,e,n){return this.$post("invokefunction",[t,e,n])}function Q(t){return this.$post("invokescript",[t])}function W(){return this.$post("listaddress",[])}function Z(t){return this.$post("sendrawtransaction",[t])}function tt(t,e,n,r){return this.$post("sendtoaddress",[t,e,n,r?1:0])}function et(t,e,n){var r=[t,e?1:0];return void 0!==n&&r.push(n),this.$post("sendmany",r)}function nt(t){return this.$post("validateaddress",[t])}f.factory=c;var rt=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}};function ot(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var it=Object.prototype.toString;function st(t){return"[object Array]"===it.call(t)}function ut(t){return null!==t&&"object"==typeof t}function at(t){return"[object Function]"===it.call(t)}function ct(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||st(t)||(t=[t]),st(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var ft={isArray:st,isArrayBuffer:function(t){return"[object ArrayBuffer]"===it.call(t)},isBuffer:function(t){return null!=t&&(ot(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&ot(t.slice(0,0))}(t)||!!t._isBuffer)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:ut,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===it.call(t)},isFile:function(t){return"[object File]"===it.call(t)},isBlob:function(t){return"[object Blob]"===it.call(t)},isFunction:at,isStream:function(t){return ut(t)&&at(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:ct,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)ct(arguments[r],n);return e},extend:function(t,e,n){return ct(e,function(e,r){t[r]=n&&"function"==typeof e?rt(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}},lt=function(t,e,n,r,o){return function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}(new Error(t),e,n,r,o)};function pt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var dt=ft.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=ft.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gt(){this.message="String contains an invalid character"}gt.prototype=new Error,gt.prototype.code=5,gt.prototype.name="InvalidCharacterError";var mt=function(t){for(var e,n,r=String(t),o="",i=0,s=ht;r.charAt(0|i)||(s="=",i%1);o+=s.charAt(63&e>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new gt;e=e<<8|n}return o},yt=ft.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var s=[];s.push(t+"="+encodeURIComponent(e)),ft.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ft.isString(r)&&s.push("path="+r),ft.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},vt="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||mt,wt=function(t){return new Promise(function(e,n){var r=t.data,o=t.headers;ft.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest,s="onreadystatechange",u=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in i||dt(t.url)||(i=new window.XDomainRequest,s="onload",u=!0,i.onprogress=function(){},i.ontimeout=function(){}),t.auth){var a=t.auth.username||"",c=t.auth.password||"";o.Authorization="Basic "+vt(a+":"+c)}if(i.open(t.method.toUpperCase(),function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(ft.isURLSearchParams(e))r=e.toString();else{var o=[];ft.forEach(e,function(t,e){null!==t&&void 0!==t&&(ft.isArray(t)&&(e+="[]"),ft.isArray(t)||(t=[t]),ft.forEach(t,function(t){ft.isDate(t)?t=t.toISOString():ft.isObject(t)&&(t=JSON.stringify(t)),o.push(pt(e)+"="+pt(t))}))}),r=o.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t}(t.url,t.params,t.paramsSerializer),!0),i.timeout=t.timeout,i[s]=function(){if(i&&(4===i.readyState||u)&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,s,a,c,f="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?(ft.forEach(r.split("\n"),function(t){a=t.indexOf(":"),o=ft.trim(t.substr(0,a)).toLowerCase(),s=ft.trim(t.substr(a+1)),o&&(c[o]=c[o]?c[o]+", "+s:s)}),c):c):null,l={data:t.responseType&&"text"!==t.responseType?i.response:i.responseText,status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,headers:f,config:t,request:i};(function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(lt("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)})(e,n,l),i=null}},i.onerror=function(){n(lt("Network Error",t,null,i)),i=null},i.ontimeout=function(){n(lt("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",i)),i=null},ft.isStandardBrowserEnv()){var f=yt,l=(t.withCredentials||dt(t.url))&&t.xsrfCookieName?f.read(t.xsrfCookieName):void 0;l&&(o[t.xsrfHeaderName]=l)}if("setRequestHeader"in i&&ft.forEach(o,function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete o[e]:i.setRequestHeader(e,t)}),t.withCredentials&&(i.withCredentials=!0),t.responseType)try{i.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&i.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){i&&(i.abort(),n(t),i=null)}),void 0===r&&(r=null),i.send(r)})},bt={"Content-Type":"application/x-www-form-urlencoded"};function Rt(t,e){!ft.isUndefined(t)&&ft.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Ct,Et={adapter:("undefined"!=typeof XMLHttpRequest?Ct=wt:"undefined"!=typeof process&&(Ct=wt),Ct),transformRequest:[function(t,e){return function(t,e){ft.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}(e,"Content-Type"),ft.isFormData(t)||ft.isArrayBuffer(t)||ft.isBuffer(t)||ft.isStream(t)||ft.isFile(t)||ft.isBlob(t)?t:ft.isArrayBufferView(t)?t.buffer:ft.isURLSearchParams(t)?(Rt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ft.isObject(t)?(Rt(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};Et.headers={common:{Accept:"application/json, text/plain, */*"}},ft.forEach(["delete","get","head"],function(t){Et.headers[t]={}}),ft.forEach(["post","put","patch"],function(t){Et.headers[t]=ft.merge(bt)});var At=Et;function Bt(){this.handlers=[]}Bt.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Bt.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Bt.prototype.forEach=function(t){ft.forEach(this.handlers,function(e){null!==e&&t(e)})};var $t=Bt,Pt=function(t,e,n){return ft.forEach(n,function(n){t=n(t,e)}),t},St=function(t){return!(!t||!t.__CANCEL__)};function kt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Tt=function(t){return kt(t),t.headers=t.headers||{},t.data=Pt(t.data,t.headers,t.transformRequest),t.headers=ft.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),ft.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||At.adapter)(t).then(function(e){return kt(t),e.data=Pt(e.data,e.headers,t.transformResponse),e},function(e){return St(e)||(kt(t),e&&e.response&&(e.response.data=Pt(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})};function _t(t){this.defaults=t,this.interceptors={request:new $t,response:new $t}}_t.prototype.request=function(t){var e,n,r;"string"==typeof t&&(t=ft.merge({url:arguments[0]},arguments[1])),(t=ft.merge(At,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&(r=t.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(t.url=(e=t.baseURL,(n=t.url)?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e));var o=[Tt,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){o.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){o.push(t.fulfilled,t.rejected)});o.length;)i=i.then(o.shift(),o.shift());return i},ft.forEach(["delete","get","head","options"],function(t){_t.prototype[t]=function(e,n){return this.request(ft.merge(n||{},{method:t,url:e}))}}),ft.forEach(["post","put","patch"],function(t){_t.prototype[t]=function(e,n,r){return this.request(ft.merge(r||{},{method:t,url:e,data:n}))}});var xt=_t;function jt(t){this.message=t}jt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},jt.prototype.__CANCEL__=!0;var Ut=jt;function qt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new Ut(t),e(n.reason))})}qt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},qt.source=function(){var t;return{token:new qt(function(e){t=e}),cancel:t}};var Ot=qt;function Nt(t){var e=new xt(t),n=rt(xt.prototype.request,e);return ft.extend(n,xt.prototype,e),ft.extend(n,e),n}var Ft=Nt(At);Ft.Axios=xt,Ft.create=function(t){return Nt(ft.merge(At,t))},Ft.Cancel=Ut,Ft.CancelToken=Ot,Ft.isCancel=St,Ft.all=function(t){return Promise.all(t)},Ft.spread=function(t){return function(e){return t.apply(null,e)}};var Lt=Ft,Dt=Ft;Lt.default=Dt;var It=Lt;"undefined"!=typeof process||window.process||(window.process={env:{}}),r(function(){return{invoke:function(t){return It(t)},buildRequestOptions:function(t){let e=t.queryParams&&(n=t.queryParams,n&&Object.keys(n).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&"));var n;e&&(t.url=t.url+"?"+e);(r=t,o=["method","url","params","body","data","cache","headers"],t=o.reduce(function(t,e){return r[e]&&(t[e]=r[e]),t},{})).headers={},t.headers.Accept="application/json",t.headers["Content-Type"]="application/json",t.body&&(t.body=JSON.stringify(t.body));var r,o;t.data&&(t.data=JSON.stringify(t.data));return t}}}()),t.antChain=function(t){let e=new g;return i(e,"antChain",t),e.getBlockByHash=v,e.getBlockByHeight=w,e.getCurrentBlock=b,e.getCurrentBlockHeight=R,e.getAddressBalance=m,e.getUnspentCoinsByAddress=y,e.getTransactionByTxid=C,e},t.antChainXyz=function(t){var e=new g;return i(e,"antChainXyz",t),e.getAddressBalance=E,e.getAssetTransactionsByAddress=A,e},t.neoScan=function(t){var e=new g;return i(e,"neoScan",t),e.getCurrentBlockHeight=B,e},t.neon=function(t){var e=new g;return i(e,"neon",t),e.getCurrentBlockHeight=$,e.getAddressBalance=P,e.getAssetTransactionsByAddress=S,e.getTransactionByTxid=k,e},t.node=function(t){var e=new u;return i(e,"node",t),e.dumpPrivKey=T,e.getAccountState=_,e.getApplicationLog=x,e.getAssetState=j,e.getBalance=U,e.getBestBlockHash=q,e.getBlock=O,e.getBlockCount=N,e.getBlockHash=F,e.getBlockSysFee=L,e.getConnectionCount=D,e.getContractState=I,e.getNewAddress=H,e.getRawMemPool=X,e.getRawTransaction=M,e.getStorage=z,e.getTxOut=V,e.getPeers=J,e.getVersion=K,e.invoke=Y,e.invokeFunction=G,e.invokeScript=Q,e.listAddress=W,e.sendRawTransaction=Z,e.sendToAddress=tt,e.sendMany=et,e.validateAddress=nt,e},t.rest=function(t){let e=new g;return i(e,"rest",t),e},t.registry=n,t.service=f,Object.defineProperty(t,"__esModule",{value:!0})});